#!/usr/bin/env node
const program = require('commander')
const symbols = require('log-symbols')
const chalk = require('chalk')
// console.log(process.argv)
program
.action(() => {
Â Â console.log('refresh .... ')
})
program.parse(process.argv)
const fs = require('fs')
const handlebars = require('handlebars')
const list =
Â fs.readdirSync('./src/views')
.filter(v => v !== 'Home.vue')
.map(v => ({
Â Â name: v.replace('.vue', '').toLowerCase(),
Â Â file: v
}))
compile({
Â list
}, './src/router.js', './template/router.js.hbs')
compile({
Â list
}, './src/App.vue', './template/App.vue.hbs')
function compile(meta, filePath, templatePath) {
Â if (fs.existsSync(templatePath)) {
Â Â const content = fs.readFileSync(templatePath).toString();
Â Â const result = handlebars.compile(content)(meta);
Â Â fs.writeFileSync(filePath, result);
}
Â console.log(symbols.success, chalk.green(`ğŸš€${filePath} åˆ›å»ºæˆåŠŸ`))
}